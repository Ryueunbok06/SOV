<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>화살표 함수 특징</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .example {
            margin-bottom: 20px;
        }
        pre {
            background-color: #f4f4f4;
            padding: 10px;
            border-radius: 5px;
        }
        button {
            margin-top: 10px;
            padding: 8px 12px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    <h1>화살표 함수의 주요 특징</h1>

    <div class="example">
        <h2>1. 짧은 구문</h2>
        <p>화살표 함수는 짧은 구문으로 함수를 정의할 수 있습니다.</p>
        <pre>
// 화살표 함수
const sumArrow = (a, b) => a + b;

document.getElementById('shortSyntax').innerText = 'Sum: ' + sumArrow(3, 5);
        </pre>
        <button onclick="runShortSyntax()">예제 실행</button>
        <p>결과: <span id="shortSyntax"></span></p>
    </div>

    <div class="example">
        <h2>2. <code>this</code>가 어휘적으로 바인딩됨</h2>
        <p>화살표 함수는 <code>this</code>가 어휘적으로 바인딩되어, 주변의 <code>this</code>를 그대로 사용합니다.</p>
        <pre>
const obj = {
    value: 10,
    regularFunction: function() {
        setTimeout(function() {
            document.getElementById('lexicalThisRegular').innerText = this.value; // undefined
        }, 100);
    },
    arrowFunction: function() {
        setTimeout(() => {
            document.getElementById('lexicalThisArrow').innerText = this.value; // 10
        }, 100);
    }
};
        </pre>
        <button onclick="runThisBinding()">예제 실행</button>
        <p>일반 함수: <span id="lexicalThisRegular"></span></p>
        <p>화살표 함수: <span id="lexicalThisArrow"></span></p>
    </div>

    <div class="example">
        <h2>3. <code>arguments</code> 객체가 없음</h2>
        <p>화살표 함수는 <code>arguments</code> 객체가 없습니다. 대신 나머지 매개변수(<code>...args</code>)를 사용해야 합니다.</p>
        <pre>
 function runNoArguments() {
    const noArgumentsArrow = (...args) => {
        document.getElementById('noArguments').innerText = 'arguments 대신 사용된 값: ' + args.join(', ');
    };
    noArgumentsArrow(1, 2, 3, 4);
 }
        </pre>
        <button onclick="runNoArguments()">예제 실행</button>
        <p>결과: <span id="noArguments"></span></p>
    </div>

    <div class="example">
        <h2>4. <code>prototype</code> 속성 없음</h2>
        <p>화살표 함수는 <code>prototype</code> 속성이 없기 때문에 생성자 함수로 사용할 수 없습니다.</p>
        <pre>
const ArrowFunc = () => {};
console.log(ArrowFunc.prototype); // undefined

try {
    const instance = new ArrowFunc(); // 에러 발생
} catch (e) {
    document.getElementById('noPrototype').innerText = '화살표 함수는 생성자로 사용할 수 없습니다!';
}
        </pre>
        <button onclick="runNoPrototype()">예제 실행</button>
        <p>결과: <span id="noPrototype"></span></p>
    </div>

    <div class="example">
        <h2>5. 즉시 실행 함수(IIFE)</h2>
        <p>화살표 함수를 사용하여 즉시 실행 함수로 사용할 수 있습니다.</p>
        <pre>
(() => {
    document.getElementById('iifeExample').innerText = '즉시 실행된 화살표 함수';
})();
        </pre>
        <button onclick="runIIFE()">예제 실행</button>
        <p>결과: <span id="iifeExample"></span></p>
    </div>

    <div class="example">
        <h2>6. 배열 요소에 함수 적용</h2>
        <p>화살표 함수를 사용하여 배열의 각 요소에 작업을 적용할 수 있습니다.</p>
        <pre>
const numbers = [1, 2, 3, 4, 5];
const squared = numbers.map(n => n * n);
document.getElementById('arrayExample').innerText = '제곱된 값: ' + squared.join(', ');
        </pre>
        <button onclick="runArrayExample()">예제 실행</button>
        <p>결과: <span id="arrayExample"></span></p>
    </div>

    <div class="example">
        <h2>7. 조건문을 사용한 화살표 함수</h2>
        <p>화살표 함수에서 조건문을 사용할 수 있습니다.</p>
        <pre>
const isEven = num => num % 2 === 0 ? '짝수' : '홀수';
document.getElementById('conditionExample').innerText = '4는 ' + isEven(4);
        </pre>
        <button onclick="runConditionExample()">예제 실행</button>
        <p>결과: <span id="conditionExample"></span></p>
    </div>

    <div class="example">
        <h2>8. 화살표 함수에서 기본값 설정</h2>
        <p>함수 인수에 기본값을 설정할 수 있습니다.</p>
        <pre>
const greet = (name = '사용자') => '안녕하세요, ' + name + '!';
document.getElementById('defaultParamExample').innerText = greet();
        </pre>
        <button onclick="runDefaultParamExample()">예제 실행</button>
        <p>결과: <span id="defaultParamExample"></span></p>
    </div>

    <script>
        // 예제 1 - 짧은 구문
        function runShortSyntax() {
            const sumArrow = (a, b) => a + b;
            document.getElementById('shortSyntax').innerText = 'Sum: ' + sumArrow(3, 5);
        }

        // 예제 2 - this 어휘적 바인딩
        function runThisBinding() {
            const obj = {
                value: 10,
                regularFunction: function() {
                    setTimeout(function() {
                        document.getElementById('lexicalThisRegular').innerText = this.value; // undefined
                    }, 100);
                },
                arrowFunction: function() {
                    setTimeout(() => {
                        document.getElementById('lexicalThisArrow').innerText = this.value; // 10
                    }, 100);
                }
            };
            obj.regularFunction();
            obj.arrowFunction();
        }

        // 예제 3 - arguments 객체가 없음
        function runNoArguments() {
            const noArgumentsArrow = (...args) => {
                document.getElementById('noArguments').innerText = 'arguments 대신 사용된 값: ' + args.join(', ');
            };
            noArgumentsArrow(1, 2, 3, 4);
        }

        // 예제 4 - prototype 속성 없음
        function runNoPrototype() {
            const ArrowFunc = () => {};
            console.log(ArrowFunc.prototype); // undefined

            try {
                const instance = new ArrowFunc(); // 에러 발생
            } catch (e) {
                document.getElementById('noPrototype').innerText = '화살표 함수는 생성자로 사용할 수 없습니다!';
            }
        }

        // 예제 5 - 즉시 실행 함수(IIFE)
        function runIIFE() {
            (() => {
                document.getElementById('iifeExample').innerText = '즉시 실행된 화살표 함수';
            })();
        }

        // 예제 6 - 배열 요소에 함수 적용
        function runArrayExample() {
            const numbers = [1, 2, 3, 4, 5];
            const squared = numbers.map(n => n * n);
            document.getElementById('arrayExample').innerText = '제곱된 값: ' + squared.join(', ');
        }

        // 예제 7 - 조건문을 사용한 화살표 함수
        function runConditionExample() {
            const isEven = num => num % 2 === 0 ? '짝수' : '홀수';
            document.getElementById('conditionExample').innerText = '4는 ' + isEven(4);
        }

        // 예제 8 - 화살표 함수에서 기본값 설정
        function runDefaultParamExample() {
            const greet = (name = '사용자') => '안녕하세요, ' + name + '!';
            document.getElementById('defaultParamExample').innerText = greet();
        }
    </script>
</body>
</html>